using System.Text;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;

namespace HealthAnalysisDashboard
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {

        public MainWindow()
        {
            InitializeComponent();
            InitializePathData();
            SetInitialView();
        }

        // Initialize geometry paths for data visualization
        private void InitializePathData()
        {
            caloriesEaten.Data = Geometry.Parse("M18.775616,27.726235L18.556953,27.802452C17.142772,28.276073 15.628217,28.532997 14.054,28.532997 12.479981,28.532997 10.965543,28.276073 9.5514238,27.802452L9.3642214,27.737198 8.0216997,29.957001 20.134897,29.957001z M2.0419903,15.651997C2.5590182,21.737005 7.7490147,26.532996 14.054,26.532996 20.358986,26.532996 25.548982,21.737005 26.066011,15.651997z M0.99999863,13.651997L27.108002,13.651997C27.66098,13.651997 28.108,14.099995 28.108,14.651997 28.108,19.914128 25.12837,24.50177 20.747734,26.855166L20.626058,26.918658 22.768942,30.437C22.956943,30.746 22.963943,31.132 22.786941,31.447001 22.608938,31.762001 22.275932,31.957001 21.914926,31.957001L6.2486704,31.957001C5.8876641,31.957001 5.5556591,31.763 5.3776558,31.448 5.2006529,31.134001 5.2066534,30.749001 5.3936561,30.438999L7.5127724,26.934522 7.3606985,26.855166C2.9800907,24.50177 0,19.914128 0,14.651997 0,14.099995 0.44702098,13.651997 0.99999863,13.651997z M8.8920019,7.0610003C9.5810011,7.7400017 10.731001,8.4820027 12.114001,8.4820027 13.495001,8.4820027 14.643,7.7420015 15.333,7.0610003z M31.166002,0C31.718014,0 32.166021,0.44799995 32.166021,1 32.166021,1.552 31.718014,2 31.166002,2 26.844913,2 23.514843,4.0279999 23.481842,4.0489998 23.353216,4.1321249 20.374107,6.0420318 17.906925,6.9382501L17.823999,6.9673486 17.76374,7.1024952C17.001137,8.6896791 14.722937,10.482007 12.114001,10.482007 8.9030016,10.482007 6.1940025,7.7670016 6.1940025,6.0609984 6.1940025,5.508997 6.6410025,5.0609961 7.194002,5.0609961L17.035,5.0609961C17.0695,5.0609961,17.103594,5.062746,17.137197,5.0661621L17.185358,5.0735188 17.319689,5.0254221C19.535589,4.203578 22.38257,2.3779993 22.415821,2.3570004 22.585825,2.2519999 26.282902,0 31.166002,0z");
            stepTakan.Data = Geometry.Parse("M20.781711,26.101032L17.051688,26.267047C17.051688,26.300006 17.051688,26.333026 17.052695,26.366046 17.073691,28.694051 17.854699,29.926046 18.1477,30.002035L19.690703,29.921041C20.026704,29.834005,20.804706,28.433004,20.781711,26.114032z M22.611703,24.018022L22.711709,24.95302C22.75071,25.323991 22.776711,25.696003 22.781716,26.091022 22.809716,28.921041 21.789708,31.829002 19.786696,31.919029L18.2317,31.999046C18.201701,32.000022 18.171702,32.000999 18.139689,32.000999 17.7427,32.000999 17.191688,31.881004 16.645696,31.364036 15.682696,30.454 15.072694,28.550008 15.05269,26.394001 15.045686,26.000995 15.068681,25.607013 15.100694,25.22603L15.172685,24.348039z M10.571673,20.943008L6.4406638,21.773025C6.4476681,21.815017 6.4566555,21.857009 6.4646664,21.899002 6.9956584,24.487016 8.2136641,25.753009 8.5316734,25.662006L10.202668,25.338029C10.214678,25.335039 10.283678,25.295 10.373674,25.159013 10.766681,24.567033 11.00568,23.046037 10.604678,21.103042 10.594668,21.049026 10.583667,20.996048 10.571673,20.943008z M11.984672,18.619031L12.249672,19.486036C12.363686,19.859022 12.480676,20.267044 12.566674,20.71199 13.026682,22.945024 12.826685,25.07802 12.040671,26.265033 11.569677,26.976032 10.990681,27.22005 10.588672,27.300006L8.9196749,27.624042C8.7776613,27.651996 8.6376619,27.667011 8.4996605,27.667011 6.5996609,27.667011 5.0716567,25.063005 4.5056605,22.299026 4.4206538,21.880996 4.3606558,21.481033 4.3206472,21.081008L4.228652,20.177991z M18.432704,8.2450004C18.307704,8.2450004 18.179698,8.2479911 18.0507,8.2550102 16.86869,8.3129936 15.924685,8.4050346 15.435686,9.0139833 14.826691,9.7710023 14.730682,11.418037 15.14969,13.909982 15.328691,14.981028 15.543688,15.663036 15.79169,16.452037 16.09769,17.426036 16.439687,18.515028 16.780692,20.512039L21.877706,20.476028C22.223701,18.687025 22.351707,16.658031 22.247703,14.55604 21.941703,8.2750297 19.685699,8.2559867 18.472697,8.2450004z M18.487697,6.244999C22.144706,6.2760048 23.973706,8.8870302 24.245709,14.458018 24.373715,17.051036 24.170712,19.556043 23.658717,21.702041L23.47671,22.464004 15.069688,22.523025 14.940689,21.667007C14.577682,19.262037 14.209684,18.088026 13.883679,17.052013 13.624676,16.228038 13.37968,15.448985 13.176677,14.241038 12.644677,11.075996 12.866678,9.0159975 13.877683,7.7600146 14.968689,6.403019 16.693685,6.317997 17.953698,6.2570229 18.132701,6.2479897 18.309703,6.2410317 18.487697,6.244999z M7.1096573,2.0020152C6.5796566,2.0020149 5.9836621,2.1090098 5.3686547,2.2299815 3.7836585,2.543031 1.1276447,3.0670183 2.2886434,10.096015 2.6756535,12.445015 3.308651,14.633006 4.1286607,16.474987L9.581665,15.312022C9.4496756,12.836983 9.5716705,11.515022 9.6796722,10.333992 9.7626648,9.4359804 9.8336639,8.6599784 9.7796783,7.4810229 9.5266714,2.0260017 7.981669,2.0109871 7.1516647,2.0020152z M6.8955083,0.0016699307C6.9878793,-0.00061093071 7.0802856,-0.00061093083 7.1726608,0.0020137411 10.952671,0.041015077 11.61968,3.9710105 11.77767,7.3900195 11.837684,8.7059989 11.756674,9.5850282 11.671682,10.517036 11.558676,11.752999 11.429677,13.154001 11.630682,16.041027L11.691671,16.906993 3.0106461,18.758009 2.6656435,18.063001C1.5976473,15.911022 0.78464133,13.270029 0.31463853,10.422004 -0.70636046,4.2379785 0.73364628,1.1060182 4.9836588,0.26702855 5.6040354,0.14537002 6.24891,0.017636688 6.8955083,0.0016699307z");
            waterConsumed.Data = Geometry.Parse("M1.9970116,20.930969C2.0029928,20.982971 2.0579857,21.202942 2.1129784,21.532959 3.0109896,26.987 8.049021,30.115967 13.151016,28.540955 8.1690161,29.401978 3.1489903,25.559998 1.9970116,20.930969z M10.348035,0C13.466019,5.1989746 17.279012,10.396973 20.451013,15.485962 20.927026,16.29895 21.302028,17.178955 21.558009,18.107971 21.813014,19.037964 21.949001,20.015991 21.949001,21.026001 21.949001,27.086975 17.034993,32 10.974988,32 4.9140069,32 -1.935332E-07,27.086975 0,21.026001 -1.935332E-07,20.015991 0.1370239,19.037964 0.39196826,18.107971 0.64801081,17.178955 1.0219737,16.29895 1.4990248,15.485962 4.4559986,10.396973 7.2279746,5.1989746 10.348035,0z");
            sleepDuration.Data = Geometry.Parse("M9.7000122,5.9000223L9.8000488,5.9000223 30.100037,5.9000223C31.100037,5.9999978,32,6.8000157,32,7.8000152L32,10.999995 5.7000122,10.999995 4.5,10.999995 3.3000488,10.999995 3.3000488,8.7000086 4.4000244,8.7000086 9.7000122,8.7000086z M6.4000244,3.4999986C7.7000122,3.4999986 8.8000488,4.4999983 8.8000488,5.9000223 8.8000488,7.2000096 7.7000122,8.3000147 6.4000244,8.3000147 5.1000366,8.2000086 4,7.1000035 4,5.8000161 4,4.4999983 5.1000366,3.4999986 6.4000244,3.4999986z M0,0L2.6000366,0 2.6000366,1.4000234 2.6000366,5.6000039 2.6000366,12.100002 32,12.100002 32,18.6 29.400024,18.6 29.400024,14.600001 2.6000366,14.600001 2.6000366,18.6 0,18.6 0,5.6000039 0,1.4000234z");
            icon.Data = Geometry.Parse("M13.983942,11.554079L17.952982,22.626025 20.57702,16.258059 29.568121,16.258059C27.029091,19.863038 24.203054,22.738024 21.088028,24.882019 17.972986,27.026005 16.276968,28.120003 16.000963,28.162001 15.72296,28.120003 14.058939,27.054005 11.007909,24.962019 7.9578708,22.872027 5.1518386,20.066039 2.5918117,16.546059L12.28893,16.546059z M8.3675526,0.00048833604C9.7240246,0.012803104 11.051597,0.25813601 12.351919,0.73812744 13.738944,1.2491268 14.954945,1.9751212 16.000963,2.9131205 18.730991,0.61012981 21.878031,-0.31786722 25.440067,0.12913695 29.003113,0.57713285 31.169138,3.0211215 31.936146,7.4570975 32.064153,8.6530909 32.01116,9.8210854 31.776155,10.961079 31.542143,12.103079 31.169138,13.207071 30.657139,14.274067L19.232004,14.274067 18.08099,17.058051 13.983942,5.5371084 10.847904,14.530062 1.4718035,14.530062C0.91779608,13.44207 0.51178551,12.306074 0.25578589,11.121082 0.00077800676,9.9380889 -0.064225184,8.7160945 0.063782489,7.4570975 0.38377804,4.8551125 1.3007961,2.9611168 2.8158129,1.7781234 4.3308299,0.59413103 6.0898531,0.0011315264 8.0958727,0.0011316698 8.1865614,-0.00011825787 8.2771214,-0.00033289315 8.3675526,0.00048833604z");
            profileIcon.Data = Geometry.Parse("M16,2.0050001C12.416,2.0050001 9.5,5.0289993 9.5,8.7459979 9.5,12.462997 12.416,15.487996 16,15.487997 19.584,15.487996 22.5,12.462997 22.5,8.7459979 22.5,5.0289993 19.584,2.0050001 16,2.0050001z M16,0C20.687,0 24.5,3.9239988 24.5,8.7459979 24.5,11.760372 23.010548,14.423184 20.74917,15.996397L20.493732,16.165044 20.752514,16.244553C27.261414,18.335448,32,24.603727,32,31.991016L30,31.999989C30,24.00401 23.719971,17.505989 16,17.505989 8.2800293,17.505989 2,24.00401 2,31.991016L0,31.999989 0,31.991016C0,24.603727,4.7385874,18.335448,11.247486,16.244553L11.506267,16.165044 11.25083,15.996397C8.9894533,14.423184 7.5,11.760372 7.5,8.7459979 7.5,3.9239988 11.313,0 16,0z");

        }


        private void SetInitialView()
        {
            mainView.Content = new CaloriesEaten();
            HighlightSection(caloriesEatenBorder, "#001950", CaloriesValue, CaloriesLabel, caloriesEaten);
        }

        private void caloriesEaten_MouseDown(object sender, MouseButtonEventArgs e)
        {
            SetViewAndHighlight(new CaloriesEaten(), caloriesEatenBorder, "#001950", CaloriesValue, CaloriesLabel, caloriesEaten);
        }

        private void stepTaken_MouseDown(object sender, MouseButtonEventArgs e)
        {
            SetViewAndHighlight(new StepsTaken(), stepTakenBorder, "#C6D870", stepTakanValue, stepTakanLabel, stepTakan);
        }

        private void sleepDuration_MouseDown(object sender, MouseButtonEventArgs e)
        {
            SetViewAndHighlight(new SleepDuration(), sleepDurationBorder, "#AE75DA", sleepDurationValue, sleepDurationLabel, sleepDuration);
        }

        private void waterConsumed_MouseDown(object sender, MouseButtonEventArgs e)
        {
            SetViewAndHighlight(new WaterConsumed(), waterConsumedBorder, "#77BEF0", waterConsumedValue, waterConsumedLabel, waterConsumed);
        }

        private void SetViewAndHighlight(UserControl newView, Border activeBorder, string activeColor, TextBlock valueLabel, TextBlock textLabel, Path path)
        {
            mainView.Content = newView;
            ResetAllHighlights();
            HighlightSection(activeBorder, activeColor, valueLabel, textLabel, path);
        }

        private void ResetAllHighlights()
        {
            var sections = new[]
            {
            new { Border = caloriesEatenBorder, Value = CaloriesValue, Label = CaloriesLabel, Path = caloriesEaten },
            new { Border = stepTakenBorder, Value = stepTakanValue, Label = stepTakanLabel, Path = stepTakan },
            new { Border = sleepDurationBorder, Value = sleepDurationValue, Label = sleepDurationLabel, Path = sleepDuration },
            new { Border = waterConsumedBorder, Value = waterConsumedValue, Label = waterConsumedLabel, Path = waterConsumed }
        };

            foreach (var section in sections)
            {
                section.Border.Background = Brushes.White;
                section.Border.BorderBrush = Brushes.Black;
                section.Value.Foreground = Brushes.Black;
                section.Label.Foreground = Brushes.Black;
                section.Path.Fill = Brushes.Black;
            }
        }

        private void HighlightSection(Border border, string colorHex, TextBlock valueLabel, TextBlock textLabel, Path path)
        {
            border.Background = new SolidColorBrush((Color)ColorConverter.ConvertFromString(colorHex));
            border.BorderBrush = Brushes.Transparent;
            valueLabel.Foreground = Brushes.White;
            textLabel.Foreground = Brushes.White;
            path.Fill = Brushes.White;
        }

    }
}